<app-modal-base
        *ngIf="!loading(); else load"
        [title]="(type === 'signIn' ? 'auth.signIn' : 'auth.signUp') | translate"
>
  <ng-container [formGroup]="form">
    <ng-container *ngIf="type === 'signUp'">
      <lib-input [config]="configs[0]" [form]="form"></lib-input>
      <lib-input class="my-3" [config]="configs[1]" [form]="form"></lib-input>
    </ng-container>

    <lib-input [config]="configs[2]" [form]="form"></lib-input>

    <div class="my-3 relative">
      <ng-container *ngIf="type === 'signIn'">
        <span
          class="absolute right-0 top-1 cursor-pointer font-semibold text-xs"
          (click)="onRecoveryPassword()"
          >Forgot password</span
        >
      </ng-container>
      <lib-input [config]="configs[3]" [form]="form"></lib-input>
    </div>

    <lib-button [disabled]="form.invalid" (click)="sign(type)">{{
      (type === 'signIn' ? 'auth.signIn' : 'auth.signUp') | translate
    }}</lib-button>

    <div class="text-xs text-center" [ngSwitch]="type">
      <ng-container *ngSwitchCase="'signIn'">
        {{ 'auth.noHaveAcc' | translate }}?
        <span
          class="cursor-pointer font-semibold"
          (click)="openLogin('signUp')"
          >{{ 'auth.registerFree' | translate }}</span
        >
      </ng-container>
      <ng-container *ngSwitchCase="'signUp'">
        {{ 'auth.haveAcc' | translate }}?
        <span
          class="cursor-pointer font-semibold"
          (click)="openLogin('signIn')"
          >{{ 'auth.signIn' | translate }}</span
        >
      </ng-container>
    </div>
  </ng-container>
</app-modal-base>

<ng-template #load>
  <lib-load [isLoading]="loading()"></lib-load>
</ng-template>
